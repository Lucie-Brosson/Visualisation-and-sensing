<!DOCTYPE html>
<html>
  <head>
    <title>Object</title>
    <script src="../API-library/d3/d3.js"></script>
    <script src="../API-library\d3\d3.min.js"></script>
    <script src="https://d3js.org/d3.v6.js"></script>

    <style>
      rect {
        fill: red;
      }
      rect:hover {
        fill: yellow;
      }
      text {
        text-anchor: end;
      }
    </style>

  </head>

  <body>

    <h1> A home - story of object </h1>
    <div class = "grid_container">
      <div = "grid_item">
        <a href="Category_object.html" target="_self">Object category</a>
      </div>
      <div = "grid_item">
        <a href="Link_to_me.html" target="_self">Link to me</a>
      </div>
      <div = "grid_item">
        <a href="Room.html" target="_self">Room</a>
      </div>
    </div>

    <svg width=800 height=240>
        <g transform="translate(250, 30)">
          <rect />
          <rect />
          <rect />
          <rect />
          <rect />
          <rect />
          <rect />
          <rect />
        </g>
        <g transform="translate(250, 30)">
          <text />
          <text />
          <text />
          <text />
          <text />
          <text />
          <text />
          <text />
        </g>
      </svg>
      <script src="../API-library/d3/d3.js"></script>
      <script src="../API-library\d3\d3.min.js"></script>

      <script src="https://d3js.org/d3.v6.js"></script>

      <script>
        console.log('Iam here first ')

        let sentimental = 0;
        var need_it = 0;
        var like_it = 0;
        var could_live_without = 0;
        var in_case = 0;
        var Work_project = 0;
        var stock = 0;
        var rid_of = 0;


        var object_link = [
          { name: 'Sentimental, Inseparable', number_of_object: sentimental},
          { name: 'Utility, need it', number_of_object: need_it},
          { name: 'Like it', number_of_object: like_it},
          { name: 'Could live without', number_of_object: could_live_without},
          { name: 'In case of', number_of_object: in_case},
          { name: 'Work/project', number_of_object: Work_project},
          { name: 'Stock', number_of_object: stock},
          { name: 'Want to get rid off it', number_of_object: rid_of}
        ];

        d3.selectAll('rect')
          .data(object_link)
          .attr('height', 19)
          .attr('width', function(d) {
            var scaleFactor = 0.00004;
            return d.number_of_object * scaleFactor;
          })
          .attr('y', function(d, i) {
            return i * 20;
          })

        d3.selectAll('text')
          .data(object_link)
          .attr('y', function(d, i) {
            return i * 20 + 13;
          })
          .attr('x', -4)
          .text(function(d) {
            return d.name;
          });


        function make_calculation(data){
          console.log('blikbp');

          for (var i = 0; i < 70; i++){
            console.log('printing for');

            if (link_to_me == 1) {
              sentimental++;
              console.log(sentimental)
              console.log('sentimental')
            }
            /*if (d.link_to_me == 2) {
              need_it++;
              console.log('need it ')

            }
            if (d.link_to_me == 3) {
              like_it++;
            }
            if (d.link_to_me == 4) {
              could_live_without++;
            }
            if (d.link_to_me == 5) {
              stock++;
            }
            if (d.link_to_me == 6) {
              rid_of++;
            }
            if (d.link_to_me == 7) {
              in_case++;
            }
            if (d.link_to_me == 8) {
              Work_project++;
            }*/

          };
        }

        // I made the list before rearanging the value, the value are in different place here and can be a bit confusing


        d3.csv('Life-data-CVS.csv').then (function (d){

          link_to_me = +d.link_to_me
          make_calculation(link_to_me)

          console.log(d[0]);
          console.log(link_to_me);
        })
      //  d3.csvParse(await FileAttachment("Life-data-CVS.csv").text())
        /*.then csvParseRows()
          .then(function (data) {

            console.log ('1st funcijnvrzekgton');


            link_me = data.map(d => ({
              link_to_me: +d.link_to_me
            }));
            console.log (link_me);

            console.log ('1st funciton');
          })

          .then(function (link_me) {
            console.log ('make calculation 1 st')

           make_calculation(link_me)
           console.log ('make calculation')

         })*/



        console.log ('hello');

      // Ce quii reste Ã  faire : trier les datas

      </script>


  </body>
</html>
